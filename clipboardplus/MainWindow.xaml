<!--
    WindowStyle="None" 去除标题栏
    AllowsTransparency="True" 允许透明
 -->
<Window x:Class="clipboardplus.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:local="clr-namespace:clipboardplus"
        mc:Ignorable="d"
        Title="MainWindow" 
        Height="450" 
        Width="800"
        WindowStyle="None"
        AllowsTransparency="True">

    <!--Window.Clip window的显示范围-->
    <Window.Clip>
        <RectangleGeometry x:Name="windowClip"
                           RadiusX="5"
                           RadiusY="5"
                           Rect="0,0,800,450"/>
        <!--Rect="起点x,起点y,宽度,高度"-->
    </Window.Clip>

    <!--testWindowResources-->
    <Window.Resources>
        <SolidColorBrush x:Key="PaintingColor1" Color="#FF86E238"/>
        <SolidColorBrush x:Key="PaintingColor2" Color="#FF38E2A8"/>
        <SolidColorBrush x:Key="PaintingColor3" Color="#FF359EC9"/>
        <SolidColorBrush x:Key="PaintingColor4" Color="#FF7E7E7E"/>
        <SolidColorBrush x:Key="PaintingColor5" Color="#FFE2CF38"/>
        <SolidColorBrush x:Key="PaintingColor6" Color="#FF7855D4"/>
        <SolidColorBrush x:Key="PaintingColor7" Color="#FFD570C2"/>
        <SolidColorBrush x:Key="PaintingColor8" Color="#FFD6D6D6"/>
        <SolidColorBrush x:Key="PaintingColor9" Color="#FFE27F38"/>
        <SolidColorBrush x:Key="PaintingColor10" Color="#FFDF2828"/>
        <SolidColorBrush x:Key="PaintingColor11" Color="#FFE2386D"/>
        <SolidColorBrush x:Key="PaintingColor12" Color="#FF1E1E1E"/>

        <Style TargetType="Path">
            <Setter Property="Fill" Value="White"/>
            <Setter Property="Stretch" Value="Uniform"/>
            <Setter Property="Width" Value="15"/>
            <Setter Property="RenderTransformOrigin" Value ="0.5,0.5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property ="HorizontalAlignment" Value="Center"/>
        </Style>
    </Window.Resources>

    <!--全局Grid-->
    <Grid x:Name="globalGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!--左侧功能区-->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="50"/>
            </Grid.RowDefinitions>

            <!--功能tab选择区-->
            <Grid Grid.RowSpan="2"
                  Panel.ZIndex="1"
                  x:Name="tabGrid">
                <Grid.RowDefinitions>
                    <RowDefinition Height="120"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="40"/>
                </Grid.ColumnDefinitions>

                <!--窗体控制栏-->
                <Grid Grid.Row="1"
                      Grid.Column="1"
                      Panel.ZIndex="1">
                    <Label HorizontalAlignment="Stretch" 
                           hc:BorderElement.CornerRadius="0" 
                           VerticalAlignment="Stretch" 
                           MouseMove="windowMove" 
                           MouseDoubleClick="windowDoubleClick" 
                           MouseRightButtonDown="windowMin"
                           BorderThickness="0,0,1,0"
                           Margin="-1,0,0,0"/>
                </Grid>

                <!--Tab功能选择-->
                <TabControl Grid.RowSpan="2"
                            Grid.ColumnSpan="2"
                            TabStripPlacement="Right"
                            Panel.ZIndex="0"
                            BorderThickness="0,0,1,0">

                    <!--历史记录Tab-->
                    <TabItem Header="&#xE81C;" 
                             Height="40" 
                             FontFamily="Segoe MDL2 Assets" 
                             FontSize="20">
                        <Grid>

                            <!--历史记录列表-->
                            <ListBox FontFamily="微软雅黑">

                                <ListBoxItem BorderThickness="0,0,0,1"
                                         BorderBrush="LightGray"
                                         Padding="0">

                                    <!--记录条目-->
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="40"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>

                                        <!--标识图标-->
                                        <Image Source="/Resources/Images/gravatar.jpeg"
                                           Grid.RowSpan="3"/>

                                        <!--标题-->
                                        <TextBlock Grid.Column="1" 
                                               Text="标题"
                                               FontSize="14"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录图片内容-->
                                        <Image Source="/Resources/Images/content_0.jpg"
                                           Grid.Column="1"
                                           Grid.Row="1"
                                           MaxHeight="120"/>

                                        <!--记录文本内容-->
                                        <TextBlock Text="123456789qwertyuiopasdfghjklzxcvbnm"
                                               Grid.Column="1"
                                               Grid.Row="1"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录时间-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               Text="2020.5.2 17:40:36"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录来源-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               HorizontalAlignment="Right"
                                               Text="window"
                                               TextTrimming="CharacterEllipsis"/>
                                    </Grid>
                                </ListBoxItem>

                                <ListBoxItem BorderThickness="0,0,0,1"
                                         BorderBrush="LightGray"
                                         Padding="0">

                                    <!--记录条目-->
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="40"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>

                                        <!--标识图标-->
                                        <Image Source="/Resources/Images/gravatar.jpeg"
                                           Grid.RowSpan="3"/>

                                        <!--标题-->
                                        <TextBlock Grid.Column="1" 
                                               Text="标题"
                                               FontSize="14"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录图片内容-->
                                        <Image Source="/Resources/Images/content_1.png"
                                           Grid.Column="1"
                                           Grid.Row="1"
                                           MaxHeight="120"/>

                                        <!--记录文本内容-->
                                        <TextBlock Text="123"
                                               Grid.Column="1"
                                               Grid.Row="1"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录时间-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               Text="2020.5.2 17:40:36"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录来源-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               HorizontalAlignment="Right"
                                               Text="window"
                                               TextTrimming="CharacterEllipsis"/>
                                    </Grid>
                                </ListBoxItem>
                            </ListBox>
                        </Grid>
                    </TabItem>

                    <!--笔记本Tab-->
                    <TabItem Header="&#xE838;" 
                             Height="40" 
                             FontFamily="Segoe MDL2 Assets" 
                             FontSize="20">
                        <Grid>

                            <!--展示分区-->
                            <ToggleButton Panel.ZIndex="1"
                                          Content="&#xE728;" 
                                          hc:BorderElement.CornerRadius="15" 
                                          Background="{StaticResource PrimaryBrush}" 
                                          Foreground="White" 
                                          Padding="0" 
                                          Width="30" 
                                          Height="30" 
                                          HorizontalAlignment="Right" 
                                          VerticalAlignment="Bottom" 
                                          Margin="0,0,10,10" 
                                          IsChecked="{Binding IsOpen,ElementName=DrawerLeft}">
                                <ToggleButton.Effect>
                                    <DropShadowEffect ShadowDepth="3"/>
                                </ToggleButton.Effect>
                            </ToggleButton>

                            <!--笔记本列表-->
                            <ListBox FontFamily="微软雅黑"
                                     Panel.ZIndex="0">

                                <ListBoxItem BorderThickness="1"
                                         BorderBrush="LightGray"
                                         Padding="0">

                                    <!--记录条目-->
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="40"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>

                                        <!--标识图标-->
                                        <Image Source="/Resources/Images/gravatar.jpeg"
                                           Grid.RowSpan="3"/>

                                        <!--标题-->
                                        <TextBlock Grid.Column="1" 
                                               Text="标题"
                                               FontSize="14"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录图片内容-->
                                        <Image Source="/Resources/Images/content_0.jpg"
                                           Grid.Column="1"
                                           Grid.Row="1"
                                           MaxHeight="120"/>

                                        <!--记录文本内容-->
                                        <TextBlock Text="123456789qwertyuiopasdfghjklzxcvbnm"
                                               Grid.Column="1"
                                               Grid.Row="1"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录时间-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               Text="2020.5.2 17:40:36"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录来源-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               HorizontalAlignment="Right"
                                               Text="window"
                                               TextTrimming="CharacterEllipsis"/>
                                    </Grid>
                                </ListBoxItem>

                                <ListBoxItem BorderThickness="1"
                                         BorderBrush="LightGray"
                                         Padding="0">

                                    <!--记录条目-->
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="40"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>

                                        <!--标识图标-->
                                        <Image Source="/Resources/Images/gravatar.jpeg"
                                           Grid.RowSpan="3"/>

                                        <!--标题-->
                                        <TextBlock Grid.Column="1" 
                                               Text="标题"
                                               FontSize="14"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录图片内容-->
                                        <Image Source="/Resources/Images/content_1.png"
                                           Grid.Column="1"
                                           Grid.Row="1"
                                           MaxHeight="120"/>

                                        <!--记录文本内容-->
                                        <TextBlock Text="123"
                                               Grid.Column="1"
                                               Grid.Row="1"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录时间-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               Text="2020.5.2 17:40:36"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录来源-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               HorizontalAlignment="Right"
                                               Text="window"
                                               TextTrimming="CharacterEllipsis"/>
                                    </Grid>
                                </ListBoxItem>
                            </ListBox>

                            <!--分区抽屉-->
                            <hc:Drawer Name="DrawerLeft" 
                                       Dock="Left" 
                                       MaskCanClose="True" 
                                       ShowMode="Push">
                                <Border Background="{DynamicResource RegionBrush}"
                                        Width="200" 
                                        BorderBrush="{DynamicResource BorderBrush}">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <!--标题-->
                                        <TextBlock Margin="10,0,0,0"
                                                   Text="分区" 
                                                   Style="{StaticResource TextBlockTitle}" 
                                                   HorizontalAlignment="Left"/>

                                        <!--关闭按钮-->
                                        <Button CommandTarget="{Binding}" Command="hc:ControlCommands.Close" Grid.Row="0" HorizontalAlignment="Right" Foreground="{DynamicResource PrimaryTextBrush}" Style="{StaticResource ButtonIcon}" hc:IconElement.Geometry="{StaticResource DeleteFillCircleGeometry}"/>

                                        <!--回收站-->
                                        <TextBlock Text="&#xE74D;"
                                                   FontFamily="Segoe MDL2 Assets"
                                                   FontSize="16"
                                                   VerticalAlignment="Center"
                                                   Margin="10,0"
                                                   Grid.Row="2"/>
                                        <Label Grid.Row="2"                                                                                                
                                               VerticalAlignment="Stretch"                                                 
                                               HorizontalAlignment="Stretch"                                                 
                                               HorizontalContentAlignment="Left"                                                
                                               Content="回收站"
                                               Margin="25,0,0,0"
                                               BorderThickness="0"
                                               />

                                        <!--树状分区-->
                                        <TreeView Grid.Row="1" Margin="0" ItemsSource="{Binding DataList}">
                                            <TreeViewItem Header="收藏">
                                            </TreeViewItem>
                                            <TreeViewItem Header="随笔">
                                            </TreeViewItem>
                                            <TreeViewItem Header="文摘">
                                            </TreeViewItem>
                                        </TreeView>
                                    </Grid>
                                </Border>
                            </hc:Drawer>
                        </Grid>
                    </TabItem>

                    <!--设置Tab-->
                    <TabItem Header="&#xE115;" 
                             Height="40" 
                             FontFamily="Segoe MDL2 Assets" 
                             FontSize="20">
                        <Grid>

                            <!--搜索列表-->

                        </Grid>
                    </TabItem>

                    <!--个人信息Tab-->
                    <TabItem Header="&#xE13D;" 
                             Height="40" 
                             FontFamily="Segoe MDL2 Assets" 
                             FontSize="20"
                             x:Name="personalCenterTab">
                        <Grid>

                            <!--搜索列表-->

                        </Grid>
                    </TabItem>

                    <!--搜索Tab-->
                    <TabItem Header="&#xE721;" 
                             Height="40" 
                             FontFamily="Segoe MDL2 Assets" 
                             FontSize="20"
                             x:Name="searchTab">
                        <Grid>

                            <!--搜索列表-->
                            <ListBox FontFamily="微软雅黑">

                                <ListBoxItem BorderThickness="1"
                                         BorderBrush="LightGray"
                                         Padding="0">

                                    <!--记录条目-->
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="40"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>

                                        <!--标识图标-->
                                        <Image Source="/Resources/Images/gravatar.jpeg"
                                           Grid.RowSpan="3"/>

                                        <!--标题-->
                                        <TextBlock Grid.Column="1" 
                                               Text="标题"
                                               FontSize="14"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录图片内容-->
                                        <Image Source="/Resources/Images/content_0.jpg"
                                           Grid.Column="1"
                                           Grid.Row="1"
                                           MaxHeight="120"/>

                                        <!--记录文本内容-->
                                        <TextBlock Text="123456789qwertyuiopasdfghjklzxcvbnm"
                                               Grid.Column="1"
                                               Grid.Row="1"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录时间-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               Text="2020.5.2 17:40:36"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录来源-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               HorizontalAlignment="Right"
                                               Text="window"
                                               TextTrimming="CharacterEllipsis"/>
                                    </Grid>
                                </ListBoxItem>

                                <ListBoxItem BorderThickness="1"
                                         BorderBrush="LightGray"
                                         Padding="0">

                                    <!--记录条目-->
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="40"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>

                                        <!--标识图标-->
                                        <Image Source="/Resources/Images/gravatar.jpeg"
                                           Grid.RowSpan="3"/>

                                        <!--标题-->
                                        <TextBlock Grid.Column="1" 
                                               Text="标题"
                                               FontSize="14"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录图片内容-->
                                        <Image Source="/Resources/Images/content_1.png"
                                           Grid.Column="1"
                                           Grid.Row="1"
                                           MaxHeight="120"/>

                                        <!--记录文本内容-->
                                        <TextBlock Text="123"
                                               Grid.Column="1"
                                               Grid.Row="1"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录时间-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               Text="2020.5.2 17:40:36"
                                               TextTrimming="CharacterEllipsis"/>

                                        <!--记录来源-->
                                        <TextBlock Grid.Column="1"
                                               Grid.Row="2"
                                               FontSize="10"
                                               HorizontalAlignment="Right"
                                               Text="window"
                                               TextTrimming="CharacterEllipsis"/>
                                    </Grid>
                                </ListBoxItem>
                            </ListBox>
                        </Grid>
                    </TabItem>
                </TabControl>
            </Grid>

            <!--高级搜索设置区-->
            <Border Grid.Row="1" 
                    BorderBrush="LightGray"
                    BorderThickness="0,1,1,0"/>
            <Grid Grid.Row="1"
                  Panel.ZIndex="0">

                <!--工具自动调节控件-->
                <ToolBarTray>

                    <!--日期选择器-->
                    <ToolBar Header="时间">
                        <DatePicker/>
                    </ToolBar>

                    <!--分区,内容选取-->
                    <ToolBar Band="1"
                             Header="分区">

                        <!--分区选择-->
                        <ComboBox SelectedIndex="0"
                                  IsEditable="True">
                            <ComboBoxItem Content="不限"/>
                            <ComboBoxItem Content="收藏"/>
                            <ComboBoxItem Content="随笔"/>
                        </ComboBox>

                        <!--包含内容-->
                        <TextBlock Text="包含内容"
                                   Margin="5,0"
                                   VerticalAlignment="Center"/>
                        <ToggleButton BorderThickness="0" 
                                      IsChecked="True"
                                      Width="20"
                                      Height="20"
                                      Style="{StaticResource ToggleButtonFlip}">
                            <hc:StatusSwitchElement.CheckedElement>
                                <Border Background="{DynamicResource PrimaryBrush}">
                                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="是" Foreground="{DynamicResource TextIconBrush}"/>
                                </Border>
                            </hc:StatusSwitchElement.CheckedElement>
                            <Border Background="{DynamicResource DangerBrush}">
                                <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="否" Foreground="{DynamicResource TextIconBrush}"/>
                            </Border>
                        </ToggleButton>
                    </ToolBar>

                    <!--种类,内容选取-->
                    <ToolBar Band="2"
                             Header="种类">

                        <!--种类选择-->
                        <ComboBox SelectedIndex="0"
                                  IsEditable="True">
                            <ComboBoxItem Content="不限"/>
                            <ComboBoxItem Content="文本"/>
                            <ComboBoxItem Content="图片"/>
                        </ComboBox>

                        <!--包含回收站-->
                        <TextBlock Text="包含回收站"
                                   Margin="5,0"
                                   VerticalAlignment="Center"/>
                        <ToggleButton BorderThickness="0" 
                                      IsChecked="True"
                                      Width="20"
                                      Height="20"
                                      Style="{StaticResource ToggleButtonFlip}">
                            <hc:StatusSwitchElement.CheckedElement>
                                <Border Background="{DynamicResource PrimaryBrush}">
                                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="是" Foreground="{DynamicResource TextIconBrush}"/>
                                </Border>
                            </hc:StatusSwitchElement.CheckedElement>
                            <Border Background="{DynamicResource DangerBrush}">
                                <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text="否" Foreground="{DynamicResource TextIconBrush}"/>
                            </Border>
                        </ToggleButton>
                    </ToolBar>
                </ToolBarTray>
            </Grid>

            <!--搜索框区-->
            <Grid Grid.Row="2"
                  Background="{StaticResource PrimaryBrush}">

                <!--展示高级搜索-->
                <ToggleButton HorizontalAlignment="Left"
                              hc:BorderElement.CornerRadius="15"
                              Checked="advancedSearchShow" 
                              Unchecked="advancedSearchHide" 
                              Margin="10,0"
                              Height="30" 
                              Width="30" 
                              Style="{StaticResource ToggleButtonIcon}" 
                              hc:IconSwitchElement.Geometry="{StaticResource RightGeometry}" 
                              hc:IconSwitchElement.GeometrySelected="{StaticResource UpGeometry}"/>

                <!--搜索框-->
                <hc:SearchBar GotFocus="showSearchTab"
                              ShowClearButton="True" 
                              Style="{StaticResource SearchBarPlus}" 
                              Width="200" 
                              Height="30" 
                              HorizontalAlignment="Left" 
                              Margin="50,0,0,0"/>

                <!--头像-->
                <hc:Gravatar Style="{StaticResource GravatarCircleImg}" 
                             Grid.Row="1" 
                             Width="30" 
                             Height="30" 
                             HorizontalAlignment="Right" 
                             MouseLeftButtonDown="showPersonalCenter" 
                             MouseRightButtonDown="showEditZone" 
                             Margin="10,0">
                    <Image Source="/Resources/Images/gravatar.jpeg"/>
                </hc:Gravatar>
            </Grid>
        </Grid>

        <!--右侧编辑区-->
        <Grid Grid.Column="1">

            <!--不同格式Tab-->
            <TabControl TabStripPlacement="Bottom">

                <!--文本编辑Tab-->
                <TabItem Header="&#xE164;" 
                         FontFamily="Segoe MDL2 Assets"
                         FontSize="14">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40"/>
                            <RowDefinition Height="20"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!--标题-->
                        <TextBox FontFamily="微软雅黑"
                                 BorderThickness="0,0,0,1"
                                 FontSize="20"/>

                        <!--时间-->
                        <TextBlock Grid.Row="1"
                                   FontFamily="微软雅黑"
                                   Text="2020.4.26 20:55:23"
                                   Margin="10,0"/>

                        <!--来源-->
                        <TextBlock Grid.Row="1"
                                   FontFamily="微软雅黑"
                                   Text="QQ"
                                   HorizontalAlignment="Right"
                                   Margin="10,0"/>

                        <!--富文本框-->
                        <!--<ToolBarTray VerticalAlignment="Top" Grid.Row="2">
                            <ToolBar Padding="6" FontFamily="微软雅黑">
                                <hc:ButtonGroup>
                                    <Button Content="&#xE19B;"
                                            FontFamily="Segoe MDL2 Assets"/>
                                    <Button Content="&#xE8DB;"
                                            FontFamily="Segoe MDL2 Assets"
                                            FontWeight="Bold"/>
                                    <Button Content="&#xE8DC;"
                                            FontWeight="Bold"
                                            FontFamily="Segoe MDL2 Assets"/>
                                </hc:ButtonGroup>
                                <Separator Margin="5,0"/>
                                <hc:ButtonGroup>
                                    <Button Content="&#xE1C6;"
                                            FontWeight="Bold"
                                            FontFamily="Segoe MDL2 Assets"/>
                                    <Button Content="&#xE1C7;"
                                            FontFamily="Segoe MDL2 Assets"
                                            FontWeight="Bold"/>
                                    <Button Content="&#xE185;"
                                            FontWeight="Bold"
                                            FontFamily="Segoe MDL2 Assets"/>
                                </hc:ButtonGroup>
                                <Separator Margin="5,0"/>
                                <Button Content="&#xE167;"
                                        FontFamily="Segoe MDL2 Assets"/>
                                <Separator Margin="5,0"/>
                                <ToggleButton HorizontalAlignment="Stretch" Grid.Row="1" Grid.Column="2" Content="翻译" IsChecked="{Binding IsOpen,ElementName=DrawerRight}"/>
                            </ToolBar>
                        </ToolBarTray>-->
                    </Grid>
                </TabItem>

                <!--图片编辑-->
                <TabItem Header="&#xEB9F;" 
                         FontSize="14"
                         FontFamily="Segoe MDL2 Assets">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!--工具栏-->
                        <ToolBarTray VerticalAlignment="Top">
                            <ToolBar Padding="5" FontFamily="微软雅黑">
                                <ToggleButton HorizontalAlignment="Stretch" Grid.Row="1" Grid.Column="2" Content="识别" IsChecked="{Binding IsOpen,ElementName=DrawerRight}"/>
                            </ToolBar>
                        </ToolBarTray>

                        <!--图片浏览器-->
                        <Grid Grid.Row="1">
                            <hc:ImageViewer Background="{DynamicResource BackgroundBrush}" 
                                            ImageSource="/Resources/Images/content_0.jpg"
                                            FontFamily="微软雅黑"
                                            ShowImgMap="True">
                            </hc:ImageViewer>
                        </Grid>
                    </Grid>
                </TabItem>

                <!--test-->
                <TabItem Header="&#xE7A8; &#xE890;"
                         FontSize="14"
                         FontFamily="Segoe MDL2 Assets">
                    <Grid>
                        <Grid.Background>
                            <ImageBrush ImageSource="Resources/Images/transparency.png"/>
                        </Grid.Background>
                        <Image Source="/Resources/Images/content_1.png"
                               x:Name="img"/>
                        <!--<hc:ImageViewer Background="{DynamicResource BackgroundBrush}" 
                                            ImageSource="/Resources/Images/content_0.jpg"
                                            FontFamily="微软雅黑"
                                            ShowImgMap="True">
                        </hc:ImageViewer>-->
                        <InkCanvas x:Name="MainInkCanvas" 
                                   Background="{x:Null}" 
                                   UseCustomCursor="False" Cursor="Cross" Margin="0,0,0,-0.333">
                            <InkCanvas.DefaultDrawingAttributes>
                                <DrawingAttributes Color="#FFFF5656" FitToCurve="True" Height="5" IgnorePressure="False" IsHighlighter="False" StylusTip="Ellipse" StylusTipTransform="Identity" Width="5"/>
                            </InkCanvas.DefaultDrawingAttributes>
                        </InkCanvas>
                        <Canvas>
                            <Grid x:Name="Palette" HorizontalAlignment="Left" VerticalAlignment="Top" MouseMove="Palette_MouseMove" MouseUp="Palette_MouseUp" MouseLeave="Palette_MouseLeave" Canvas.Top="-50" Canvas.Left="-70" MinWidth="0">
                                <Grid.RenderTransform>
                                    <RotateTransform x:Name="PaletteRotate" CenterX="265" CenterY="100" Angle="0"/>
                                </Grid.RenderTransform>
                                <Grid.Effect>
                                    <DropShadowEffect BlurRadius="5" ShadowDepth="2" Opacity="0.3"/>
                                </Grid.Effect>
                                <Grid>
                                    <Grid.Resources>
                                        <Style TargetType="Border">
                                            <Setter Property="Background" Value="{StaticResource QuartertransparentGray}"/>
                                            <Style.Triggers>
                                                <Trigger Property ="IsMouseOver" Value="True">
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard TargetProperty="(Background).(SolidColorBrush.Color)">
                                                                <ColorAnimation To ="#9F727272" Duration="{StaticResource Duration2}"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                    <Trigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard TargetProperty="(Background).(SolidColorBrush.Color)">
                                                                <ColorAnimation To ="#3F727272" Duration="{StaticResource Duration2}"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.ExitActions>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Resources>
                                    <Border x:Name="LeftDockingButton" Width="20" Height="70" HorizontalAlignment="Right" Margin="0,0,30,0" Visibility="Collapsed">
                                        <Border.CornerRadius>
                                            <CornerRadius TopRight="7" BottomRight="7"></CornerRadius>
                                        </Border.CornerRadius>
                                        <Path Fill="White" Stretch="Uniform" Width="9" Data="{StaticResource IconArrow}" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Path.RenderTransform>
                                                <TransformGroup>
                                                    <RotateTransform Angle="-90"/>
                                                </TransformGroup>
                                            </Path.RenderTransform>
                                        </Path>
                                    </Border>
                                    <Border x:Name="TopDuckingButton" Width="70" Height="20" HorizontalAlignment="Center" Margin="0,0,25,30"  Visibility="Collapsed" VerticalAlignment="Bottom">
                                        <Border.CornerRadius>
                                            <CornerRadius BottomLeft="7" BottomRight="7"></CornerRadius>
                                        </Border.CornerRadius>
                                        <Path Fill="White" Stretch="Uniform" Width="9" Data="{StaticResource IconArrow}" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Path.RenderTransform>
                                                <TransformGroup>
                                                    <RotateTransform Angle="0"/>
                                                </TransformGroup>
                                            </Path.RenderTransform>
                                        </Path>
                                    </Border>
                                    <Border x:Name="RightDockingButton" Width="20" Height="70" HorizontalAlignment="Left"  Visibility="Collapsed" Margin="30,0,0,0">
                                        <Border.CornerRadius>
                                            <CornerRadius TopLeft="7" BottomLeft="7"></CornerRadius>
                                        </Border.CornerRadius>
                                        <Path Fill="White" Stretch="Uniform" Width="9" Data="{StaticResource IconArrow}" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Path.RenderTransform>
                                                <TransformGroup>
                                                    <RotateTransform Angle="90"/>
                                                </TransformGroup>
                                            </Path.RenderTransform>
                                        </Path>
                                    </Border>
                                </Grid>
                                <Grid x:Name="PaletteFlowPanel" Margin="50" Width="{StaticResource HorizontalModeFlowPanel}" >
                                    <WrapPanel x:Name="PaletteFlowInsiderPanel" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Grid x:Name="BasicButtonPanel" Width="{StaticResource HorizontalModeColorPickersPanel}" Margin="0">
                                            <WrapPanel VerticalAlignment="Top" Margin="0,0,6,0" Orientation="Horizontal" HorizontalAlignment="Right">
                                                <Border x:Name="PaletteGrip" Width="330" Cursor="SizeAll" Height="25" MouseDown="PaletteGrip_MouseDown"  HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0" Padding="3" >
                                                    <Border CornerRadius="5" Background="#338A8A8A" ToolTip="点击拖动画笔工具栏">
                                                        <TextBlock x:Name="InfoBox" Foreground="Black" FontSize="10" FontFamily="Consolas" Margin="0" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </Border>
                                                </Border>
                                                <Button x:Name="DetailToggler" Style="{StaticResource ResponseButton}" Background="#FF86C91F" VerticalAlignment="Center" Click="DetailToggler_Click" ToolTip="展开/收起" >
                                                    <Path Data="{DynamicResource IconArrow}" Margin="0,1,0,0" Width="10">
                                                        <Path.RenderTransform>
                                                            <RotateTransform x:Name="DetailTogglerRotate"/>
                                                        </Path.RenderTransform>
                                                    </Path>
                                                </Button>
                                                <Button x:Name="MinimizeButton" Style="{StaticResource SpinningButton}" Background="#FF0F9DE4" Click="MinimizeButton_Click"  VerticalAlignment="Center" ToolTip="最小化" >
                                                    <Button.RenderTransform>
                                                        <RotateTransform CenterX="12.5" CenterY="12.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </Button.RenderTransform>
                                                    <Path Width="12" Data="{DynamicResource IconMinimize}" Margin="1,1,0,0"/>
                                                </Button>
                                                <Button x:Name="CloseButton" Style="{StaticResource SpinningButton}" Background="#FFFF7774" Click="CloseButton_Click"  VerticalAlignment="Center" ToolTip="退出" >
                                                    <Path Data="{DynamicResource IconCross}" Margin="1,1,0,0" Width="10">
                                                        <Path.RenderTransform >
                                                            <RotateTransform Angle="{Binding ElementName=CloseButton,Path=MaxWidth}"/>
                                                        </Path.RenderTransform>
                                                    </Path>
                                                </Button>
                                            </WrapPanel>
                                        </Grid>
                                        <Grid x:Name="ColorPickersPanel" Margin="0 4 0 0" Width="{StaticResource HorizontalModeColorPickersPanel}" HorizontalAlignment="Right" VerticalAlignment="Center" >
                                            <WrapPanel Margin="0" 
                                                       HorizontalAlignment="Right"
                                                       x:Name="ColorToolsPanel">
                                                <WrapPanel.Resources>
                                                    <Style TargetType="local:ColorPicker" BasedOn="{StaticResource ColorPicker}">
                                                        <Setter Property="Size" Value="{Binding ElementName=DefaultColorPicker,Path=Size}"/>
                                                        <Setter Property="Focusable" Value="False" />
                                                    </Style>
                                                    <Style TargetType="StackPanel">
                                                        <Setter Property="Orientation" Value="Horizontal"></Setter>
                                                    </Style>
                                                </WrapPanel.Resources>
                                                <local:ColorPicker Background="{StaticResource PaintingColor6}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor3}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor2}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor1}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor5}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor9}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor10}" Click="ColorPickers_Click" x:Name="DefaultColorPicker" Size="Small">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor11}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor7}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor8}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor4}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                                <local:ColorPicker Background="{StaticResource PaintingColor12}" Click="ColorPickers_Click">
                                                    <local:ColorPicker.RenderTransform>
                                                        <RotateTransform CenterX="17.5" CenterY="17.5" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ColorPicker.RenderTransform>
                                                </local:ColorPicker>
                                            </WrapPanel>
                                        </Grid>
                                        <StackPanel x:Name="ExtraToolPanel" Width="{StaticResource HorizontalModeFlowPanel}"  Margin="0,4,0,0">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Style.Triggers>
                                                        <Trigger Property="Opacity" Value="0">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>
                                            <Slider Background="{DynamicResource FakeTransparent}" Minimum="1" ValueChanged="Slider_ValueChanged" IsMoveToPointEnabled="True" IsSelectionRangeEnabled="True" Focusable="False" Maximum="5" Template="{StaticResource SliderHorizontal}" Foreground="#FFBC1919" Value="2" Height="20" Visibility="Collapsed"/>
                                            <WrapPanel x:Name="ExtraToolsPanel" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                                                <WrapPanel.Resources>
                                                    <Style TargetType="local:ActivableButton" BasedOn="{StaticResource FunctionalButton}">
                                                        <Setter Property="Padding" Value="0"/>
                                                        <Setter Property="Width" Value="32"/>
                                                        <Setter Property="Height" Value="32"/>
                                                    </Style>
                                                </WrapPanel.Resources>
                                                <local:ActivableButton x:Name="PinButton" ToolTip="置顶/取消置顶" Click="PinButton_Click" >
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconPin}" Width="13"/>
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="SaveButton" Click="SaveButton_Click" ToolTip="快速保存 / 右键点击保存至文件" PreviewMouseRightButtonDown="SaveButton_RightClick">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconSave}" Width="13"/>
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="LoadButton" Click="LoadButton_Click" ToolTip="加载画板">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconLoad}" Width="14"/>
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="ExportButton" ToolTip="导出画板为PNG / 右键点击导出画板和屏幕为PNG" Click="ExportButton_Click" PreviewMouseRightButtonDown="ExportButton_RightClick">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconExport}"/>
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="HideButton"  ToolTip="隐藏/显示画板" Click="HideButton_Click" >
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconCloseEye}"/>
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="OrientationButton" Click="OrientationButton_Click" ToolTip="横向/纵向">
                                                    <Path Data="{DynamicResource IconMinimize}" RenderTransformOrigin="0.5,0.5">
                                                        <Path.RenderTransform>
                                                            <RotateTransform Angle="90"/>
                                                        </Path.RenderTransform>
                                                    </Path>
                                                </local:ActivableButton>
                                            </WrapPanel>
                                        </StackPanel>
                                        <Grid x:Name="ButtonGrid" Margin="0 4 0 0" Width="{StaticResource HorizontalModeFlowPanel}">
                                            <WrapPanel x:Name="ButtonPanel" HorizontalAlignment="Right" VerticalAlignment="Center">
                                                <WrapPanel.Resources>
                                                    <Style TargetType="local:ActivableButton" BasedOn="{StaticResource FunctionalButton}">
                                                        <Setter Property="Padding" Value="0"/>
                                                        <Setter Property="Width" Value="32"/>
                                                        <Setter Property="Height" Value="32"/>
                                                    </Style>
                                                </WrapPanel.Resources>
                                                <local:ActivableButton x:Name="FontReduceButton" Click="FontReduceButton_Click" ToolTip="缩小字体" Focusable="False">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconFontReduce}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="FontIncreaseButton" Click="FontIncreaseButton_Click" ToolTip="放大字体" Focusable="False">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconFontIncrease}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="BrushSwitchButton" Click="BrushSwitchButton_Click" ToolTip="画笔大小">
                                                    <Border x:Name="brushPreview" Width="5" Height="5" Background="#FFD6D6D6" CornerRadius="10"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="EnableButton" Click="EnableButton_Click" ToolTip="鼠标">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconMouse}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="SelectButton" Click="SelectButton_Click" ToolTip="选择">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconSelect}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="PenButton" Click="PenButton_Click" ToolTip="自由画笔">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconPen}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="TextButton" Click="TextButton_Click" ToolTip="添加文字">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconText}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="LineButton" Click="LineButton_Click" ToolTip="添加直线">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconLine}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="ArrowButton" Click="ArrowButton_Click" ToolTip="添加箭头">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconArrow1}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="RectangleButton" Click="RectangleButton_Click" ToolTip="添加矩形">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconRectangle}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="CircleButton" Click="CircleButton_Click" ToolTip="添加圆形">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconCircle}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="RayButton" Click="RayButton_Click" ToolTip="激光笔">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconRayPen}" />
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="EraserButton" Click="EraserButton_Click" ToolTip="橡皮擦">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconEraser}"/>
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="ClearButton" Click="ClearButton_Click" ToolTip="清除画板" >
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconTrashBox}" Width="13"/>
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="UndoButton" Click="UndoButton_Click" ToolTip="撤销">
                                                    <local:ActivableButton.RenderTransform>
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconUndo}"/>
                                                </local:ActivableButton>
                                                <local:ActivableButton x:Name="RedoButton" ToolTip="重做" Click="RedoButton_Click">
                                                    <local:ActivableButton.RenderTransform >
                                                        <RotateTransform CenterX="16" CenterY="16" Angle="{Binding MinWidth, ElementName=Palette}"/>
                                                    </local:ActivableButton.RenderTransform>
                                                    <Path Data="{DynamicResource IconUndo}" RenderTransformOrigin="0.5,0.5">
                                                        <Path.RenderTransform>
                                                            <ScaleTransform ScaleX="-1"/>
                                                        </Path.RenderTransform>
                                                    </Path>
                                                </local:ActivableButton>
                                            </WrapPanel>
                                        </Grid>
                                    </WrapPanel>
                                </Grid>
                            </Grid>
                        </Canvas>
                    </Grid>
                </TabItem>
            </TabControl>
        </Grid>
    </Grid>
</Window>
